<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Max-Sum: maxsum::util::RefMap&lt; Key, Val &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacemaxsum.html">maxsum</a>::<a class="el" href="namespacemaxsum_1_1util.html">util</a>::<a class="el" href="classmaxsum_1_1util_1_1_ref_map.html">RefMap</a>
  </div>
</div>
<div class="contents">
<h1>maxsum::util::RefMap&lt; Key, Val &gt; Class Template Reference</h1><!-- doxytag: class="maxsum::util::RefMap" -->This class provides a read only wrapper around an existing map, such as that provided by std::map.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="util__containers_8h_source.html">util_containers.h</a>&gt;</code>
<p>

<p>
<a href="classmaxsum_1_1util_1_1_ref_map-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5c1b81531775985b7dda71326c6a0563"></a><!-- doxytag: member="maxsum::util::RefMap::PtrMap" ref="5c1b81531775985b7dda71326c6a0563" args="" -->
typedef std::map&lt; Key, Val &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmaxsum_1_1util_1_1_ref_map.html#5c1b81531775985b7dda71326c6a0563">PtrMap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of map used to store value pointers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8b3903e1a9407f81a8ad0f73c7443fe7"></a><!-- doxytag: member="maxsum::util::RefMap::const_iterator" ref="8b3903e1a9407f81a8ad0f73c7443fe7" args="" -->
typedef PtrMap::const_iterator&nbsp;</td><td class="memItemRight" valign="bottom"><b>const_iterator</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="963bdd6176e09b1f61cfefc33d7d4abc"></a><!-- doxytag: member="maxsum::util::RefMap::value_type" ref="963bdd6176e09b1f61cfefc33d7d4abc" args="" -->
typedef PtrMap::value_type&nbsp;</td><td class="memItemRight" valign="bottom"><b>value_type</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="94c7cb0e66858f267196697fecccca64"></a><!-- doxytag: member="maxsum::util::RefMap::key_type" ref="94c7cb0e66858f267196697fecccca64" args="" -->
typedef PtrMap::value_type&nbsp;</td><td class="memItemRight" valign="bottom"><b>key_type</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="04f04dce3cf74b506ac27356df2666e8"></a><!-- doxytag: member="maxsum::util::RefMap::mapped_type" ref="04f04dce3cf74b506ac27356df2666e8" args="" -->
typedef PtrMap::mapped_type&nbsp;</td><td class="memItemRight" valign="bottom"><b>mapped_type</b></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="50ea286383e0dab71c6de9986e6625c1"></a><!-- doxytag: member="maxsum::util::RefMap::RefMap" ref="50ea286383e0dab71c6de9986e6625c1" args="(const PtrMap &amp;map)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmaxsum_1_1util_1_1_ref_map.html#50ea286383e0dab71c6de9986e6625c1">RefMap</a> (const <a class="el" href="classmaxsum_1_1util_1_1_ref_map.html#5c1b81531775985b7dda71326c6a0563">PtrMap</a> &amp;map)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs an empty map. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const_iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmaxsum_1_1util_1_1_ref_map.html#d71cb54884be2e381c9783948a4ab6a5">begin</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns an iterator the first element in this map.  <a href="#d71cb54884be2e381c9783948a4ab6a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const_iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmaxsum_1_1util_1_1_ref_map.html#707d1e07199efff5d831ce570fbbdaed">end</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns an iterator to the next position after the last element of this map.  <a href="#707d1e07199efff5d831ce570fbbdaed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const Val &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmaxsum_1_1util_1_1_ref_map.html#0d350dff4600ea6d6dff9f2c883ae060">operator[]</a> (Key key) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Provides a constant reference to the value pointed to by key, or throws an exception is the key is not currently mapped to any value.  <a href="#0d350dff4600ea6d6dff9f2c883ae060"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="15c7a5c1084a03bb726d15f701eb4443"></a><!-- doxytag: member="maxsum::util::RefMap::find" ref="15c7a5c1084a03bb726d15f701eb4443" args="(Key key) const " -->
const_iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmaxsum_1_1util_1_1_ref_map.html#15c7a5c1084a03bb726d15f701eb4443">find</a> (Key key) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tries to find the value for a given key in this map. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5eb7106c9ab933ab5e217931050949d9"></a><!-- doxytag: member="maxsum::util::RefMap::size" ref="5eb7106c9ab933ab5e217931050949d9" args="() const " -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmaxsum_1_1util_1_1_ref_map.html#5eb7106c9ab933ab5e217931050949d9">size</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of elements in this map. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class Key, class Val&gt;<br>
 class maxsum::util::RefMap&lt; Key, Val &gt;</h3>

This class provides a read only wrapper around an existing map, such as that provided by std::map. 
<p>
In particular, this class provides a const implementation of the [] operator, which throws an exception if the requested key is not already in the underlying map, rather than trying to insert it. This functionality is not provided by the standard library. <p>
Note: Currently, we only implement that subset of the map iterface that we actually require for our purposes. <dl class="attention" compact><dt><b>Attention:</b></dt><dd>This class is used as part of the implementation of the <a class="el" href="classmaxsum_1_1_post_office.html" title="Class used to store and manage messages sent between factor graph nodes.">maxsum::PostOffice</a> class only, and so does not need to be referenced directly by calling libraries. We therefore only implement the subset of the standard container iterface that we actually need for our own purposes. </dd></dl>
<dl compact><dt><b>Template Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Key</em>&nbsp;</td><td>Type of key used by this map. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Val</em>&nbsp;</td><td>Type of value referenced by this map. Internally, the map stores pointers to Val objects, rather than the Val objects themselves, but presents the same interface as a std::map that does store them. </td></tr>
  </table>
</dl>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d71cb54884be2e381c9783948a4ab6a5"></a><!-- doxytag: member="maxsum::util::RefMap::begin" ref="d71cb54884be2e381c9783948a4ab6a5" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Val &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const_iterator <a class="el" href="classmaxsum_1_1util_1_1_ref_map.html">maxsum::util::RefMap</a>&lt; Key, Val &gt;::begin           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns an iterator the first element in this map. 
<p>
This iterator provides readonly access to the elements of this map. 
</div>
</div><p>
<a class="anchor" name="707d1e07199efff5d831ce570fbbdaed"></a><!-- doxytag: member="maxsum::util::RefMap::end" ref="707d1e07199efff5d831ce570fbbdaed" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Val &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const_iterator <a class="el" href="classmaxsum_1_1util_1_1_ref_map.html">maxsum::util::RefMap</a>&lt; Key, Val &gt;::end           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns an iterator to the next position after the last element of this map. 
<p>
See C++ standard library documentation for rationale. 
</div>
</div><p>
<a class="anchor" name="0d350dff4600ea6d6dff9f2c883ae060"></a><!-- doxytag: member="maxsum::util::RefMap::operator[]" ref="0d350dff4600ea6d6dff9f2c883ae060" args="(Key key) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Val &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const Val&amp; <a class="el" href="classmaxsum_1_1util_1_1_ref_map.html">maxsum::util::RefMap</a>&lt; Key, Val &gt;::operator[]           </td>
          <td>(</td>
          <td class="paramtype">Key&nbsp;</td>
          <td class="paramname"> <em>key</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provides a constant reference to the value pointed to by key, or throws an exception is the key is not currently mapped to any value. 
<p>
<dl class="attention" compact><dt><b>Attention:</b></dt><dd>This is intentionally different from the behaviour of std::map::operator[], because we only want to provide read-access through this operator. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>key</em>&nbsp;</td><td>the key whoses value we want to return. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classmaxsum_1_1_no_such_element_exception.html" title="Exception thrown when there has been an attempt to access an element of a container...">NoSuchElementException</a></em>&nbsp;</td><td>if key is not currently in this map. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a constant reference to the mapped value. </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="util__containers_8h_source.html">util_containers.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 30 17:00:03 2012 for Max-Sum by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
