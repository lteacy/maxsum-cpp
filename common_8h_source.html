<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Max-Sum: include/common.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>include/common.h</h1><a href="common_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00009"></a>00009 <span class="preprocessor">#ifndef MAX_SUM_COMMON_H</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">#define MAX_SUM_COMMON_H</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;cfloat&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;exception&gt;</span>
<a name="l00016"></a>00016 
<a name="l00020"></a><a class="code" href="namespacemaxsum.html">00020</a> <span class="keyword">namespace </span>maxsum
<a name="l00021"></a>00021 {
<a name="l00025"></a><a class="code" href="namespacemaxsum.html#dd02fc7a161c705a735b15646b2b6733">00025</a>    <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="namespacemaxsum.html#dd02fc7a161c705a735b15646b2b6733" title="Type of values stored by maxsum::DiscreteFunction objects.">ValType</a>;
<a name="l00026"></a>00026 
<a name="l00034"></a><a class="code" href="namespacemaxsum.html#accbd5a77a4dc529b8f5eaa0f75d2599">00034</a>    <span class="keyword">const</span> <a class="code" href="namespacemaxsum.html#dd02fc7a161c705a735b15646b2b6733" title="Type of values stored by maxsum::DiscreteFunction objects.">ValType</a> <a class="code" href="namespacemaxsum.html#accbd5a77a4dc529b8f5eaa0f75d2599" title="Default tolerance used for comparing values of type maxsum::ValType.">DEFAULT_VALUE_TOLERANCE</a> = DBL_EPSILON * 1000.0;
<a name="l00035"></a>00035 
<a name="l00042"></a><a class="code" href="namespacemaxsum.html#572e59b0c017dac30927fc445aa28216">00042</a>    <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacemaxsum.html#572e59b0c017dac30927fc445aa28216" title="Type used for uniquely identifying variables.">VarID</a>;
<a name="l00043"></a>00043 
<a name="l00050"></a><a class="code" href="namespacemaxsum.html#2bce04bab0e368fa664de701b05b3690">00050</a>    <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacemaxsum.html#2bce04bab0e368fa664de701b05b3690" title="Type used for uniquely identifying factors in a factor graph.">FactorID</a>;
<a name="l00051"></a>00051 
<a name="l00055"></a><a class="code" href="namespacemaxsum.html#2703843fa0f76002b3285d94f1693d26">00055</a>    <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="namespacemaxsum.html#2703843fa0f76002b3285d94f1693d26" title="Integer type used for indexing coefficient values.">ValIndex</a>;
<a name="l00056"></a>00056 
<a name="l00061"></a><a class="code" href="classmaxsum_1_1_no_such_element_exception.html">00061</a>    <span class="keyword">class </span><a class="code" href="classmaxsum_1_1_no_such_element_exception.html" title="Exception thrown when there has been an attempt to access an element of a container...">NoSuchElementException</a> : <span class="keyword">public</span> std::exception
<a name="l00062"></a>00062    {
<a name="l00063"></a>00063    <span class="keyword">protected</span>:
<a name="l00064"></a>00064 
<a name="l00069"></a><a class="code" href="classmaxsum_1_1_no_such_element_exception.html#a18a5351dbf30caa771b096c3b6dbe5d">00069</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_no_such_element_exception.html#a18a5351dbf30caa771b096c3b6dbe5d" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>;
<a name="l00070"></a>00070 
<a name="l00074"></a><a class="code" href="classmaxsum_1_1_no_such_element_exception.html#57bd46c40c86097f050eaac1e3d2c9ab">00074</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_no_such_element_exception.html#57bd46c40c86097f050eaac1e3d2c9ab" title="Message describing the cause of this exception.">mesg</a>;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076    <span class="keyword">public</span>:
<a name="l00077"></a>00077 
<a name="l00084"></a>00084       <a class="code" href="classmaxsum_1_1_no_such_element_exception.html#bff42c3280892fbe1fd28e4daff38fe2" title="Constructs a new exception with specified location and message.">NoSuchElementException</a> 
<a name="l00085"></a><a class="code" href="classmaxsum_1_1_no_such_element_exception.html#bff42c3280892fbe1fd28e4daff38fe2">00085</a>          (<span class="keyword">const</span> std::string where_, <span class="keyword">const</span> std::string mesg_)
<a name="l00086"></a>00086          <span class="keywordflow">throw</span>(): <a class="code" href="classmaxsum_1_1_no_such_element_exception.html#a18a5351dbf30caa771b096c3b6dbe5d" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>(where_), <a class="code" href="classmaxsum_1_1_no_such_element_exception.html#57bd46c40c86097f050eaac1e3d2c9ab" title="Message describing the cause of this exception.">mesg</a>(mesg_) {}
<a name="l00087"></a>00087 
<a name="l00094"></a><a class="code" href="classmaxsum_1_1_no_such_element_exception.html#484a3f600abaed02bea3e23ec2e0831e">00094</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classmaxsum_1_1_no_such_element_exception.html#484a3f600abaed02bea3e23ec2e0831e" title="Returns a message describing the cause of this exception, and the location it was...">what</a>() <span class="keyword">const</span> throw()
<a name="l00095"></a>00095       {
<a name="l00096"></a>00096          <span class="keywordflow">return</span> std::string(<span class="stringliteral">"NoSuchElementException: "</span> + <a class="code" href="classmaxsum_1_1_no_such_element_exception.html#57bd46c40c86097f050eaac1e3d2c9ab" title="Message describing the cause of this exception.">mesg</a> +
<a name="l00097"></a>00097                <span class="stringliteral">"\t[ in "</span>+<a class="code" href="classmaxsum_1_1_no_such_element_exception.html#a18a5351dbf30caa771b096c3b6dbe5d" title="String identifying the source code locatioin where this exceptioin was generated...">where</a> +<span class="stringliteral">" ]"</span>).c_str();
<a name="l00098"></a>00098       }
<a name="l00099"></a>00099 
<a name="l00103"></a><a class="code" href="classmaxsum_1_1_no_such_element_exception.html#8debba08e8029b8abde546cdf15af7e0">00103</a>       <span class="keyword">virtual</span> <a class="code" href="classmaxsum_1_1_no_such_element_exception.html#8debba08e8029b8abde546cdf15af7e0" title="Destroys this exception and free&amp;#39;s its allocated resources.">~NoSuchElementException</a>() throw() {}
<a name="l00104"></a>00104 
<a name="l00105"></a>00105    }; <span class="comment">// NoSuchElementException</span>
<a name="l00106"></a>00106 
<a name="l00112"></a><a class="code" href="classmaxsum_1_1_empty_notice_exception.html">00112</a>    <span class="keyword">class </span><a class="code" href="classmaxsum_1_1_empty_notice_exception.html" title="Exception thrown by PostOffice::popNotice when there are no active notices.">EmptyNoticeException</a> : <span class="keyword">public</span> std::exception
<a name="l00113"></a>00113    {
<a name="l00114"></a>00114    <span class="keyword">protected</span>:
<a name="l00115"></a>00115 
<a name="l00120"></a><a class="code" href="classmaxsum_1_1_empty_notice_exception.html#20ac9f104a93179dee113af1cb0dbccf">00120</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_empty_notice_exception.html#20ac9f104a93179dee113af1cb0dbccf" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>;
<a name="l00121"></a>00121 
<a name="l00125"></a><a class="code" href="classmaxsum_1_1_empty_notice_exception.html#0b1c8b424828023c56a5598846bc732a">00125</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_empty_notice_exception.html#0b1c8b424828023c56a5598846bc732a" title="Message describing the cause of this exception.">mesg</a>;
<a name="l00126"></a>00126 
<a name="l00127"></a>00127    <span class="keyword">public</span>:
<a name="l00128"></a>00128 
<a name="l00135"></a>00135       <a class="code" href="classmaxsum_1_1_empty_notice_exception.html#a1919e8677ab1fa165a04322b9240f88" title="Constructs a new exception with specified location and message.">EmptyNoticeException</a> 
<a name="l00136"></a><a class="code" href="classmaxsum_1_1_empty_notice_exception.html#a1919e8677ab1fa165a04322b9240f88">00136</a>          (<span class="keyword">const</span> std::string where_, <span class="keyword">const</span> std::string mesg_)
<a name="l00137"></a>00137          <span class="keywordflow">throw</span>(): <a class="code" href="classmaxsum_1_1_empty_notice_exception.html#20ac9f104a93179dee113af1cb0dbccf" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>(where_), <a class="code" href="classmaxsum_1_1_empty_notice_exception.html#0b1c8b424828023c56a5598846bc732a" title="Message describing the cause of this exception.">mesg</a>(mesg_) {}
<a name="l00138"></a>00138 
<a name="l00145"></a><a class="code" href="classmaxsum_1_1_empty_notice_exception.html#2abb7d909a2af4662bc2d67b199e93a7">00145</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classmaxsum_1_1_empty_notice_exception.html#2abb7d909a2af4662bc2d67b199e93a7" title="Returns a message describing the cause of this exception, and the location it was...">what</a>() <span class="keyword">const</span> throw()
<a name="l00146"></a>00146       {
<a name="l00147"></a>00147          <span class="keywordflow">return</span> std::string(<span class="stringliteral">"EmptyNoticeException: "</span> + <a class="code" href="classmaxsum_1_1_empty_notice_exception.html#0b1c8b424828023c56a5598846bc732a" title="Message describing the cause of this exception.">mesg</a> +
<a name="l00148"></a>00148                <span class="stringliteral">"\t[ in "</span>+<a class="code" href="classmaxsum_1_1_empty_notice_exception.html#20ac9f104a93179dee113af1cb0dbccf" title="String identifying the source code locatioin where this exceptioin was generated...">where</a> +<span class="stringliteral">" ]"</span>).c_str();
<a name="l00149"></a>00149       }
<a name="l00150"></a>00150 
<a name="l00154"></a><a class="code" href="classmaxsum_1_1_empty_notice_exception.html#ebd3c26e5ce64e1afcdf5a223965e5a5">00154</a>       <span class="keyword">virtual</span> <a class="code" href="classmaxsum_1_1_empty_notice_exception.html#ebd3c26e5ce64e1afcdf5a223965e5a5" title="Destroys this exception and free&amp;#39;s its allocated resources.">~EmptyNoticeException</a>() throw() {}
<a name="l00155"></a>00155 
<a name="l00156"></a>00156    }; <span class="comment">// EmptyNoticeException</span>
<a name="l00157"></a>00157 
<a name="l00162"></a><a class="code" href="classmaxsum_1_1_unknown_address_exception.html">00162</a>    <span class="keyword">class </span><a class="code" href="classmaxsum_1_1_unknown_address_exception.html" title="Exception thrown when a maxsum::PostOffice does not recognise the ID of a Sender...">UnknownAddressException</a> : <span class="keyword">public</span> std::exception
<a name="l00163"></a>00163    {
<a name="l00164"></a>00164    <span class="keyword">protected</span>:
<a name="l00165"></a>00165 
<a name="l00170"></a><a class="code" href="classmaxsum_1_1_unknown_address_exception.html#ead0c9dba40cc442548cf80c0159a6fb">00170</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_unknown_address_exception.html#ead0c9dba40cc442548cf80c0159a6fb" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>;
<a name="l00171"></a>00171 
<a name="l00175"></a><a class="code" href="classmaxsum_1_1_unknown_address_exception.html#6c5857161c2cc74a289f68169b9b2756">00175</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_unknown_address_exception.html#6c5857161c2cc74a289f68169b9b2756" title="Message describing the cause of this exception.">mesg</a>;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177    <span class="keyword">public</span>:
<a name="l00178"></a>00178 
<a name="l00185"></a>00185       <a class="code" href="classmaxsum_1_1_unknown_address_exception.html#402a98cfb4e4d1793a638afa762cf01a" title="Constructs a new exception with specified location and message.">UnknownAddressException</a>
<a name="l00186"></a><a class="code" href="classmaxsum_1_1_unknown_address_exception.html#402a98cfb4e4d1793a638afa762cf01a">00186</a>          (<span class="keyword">const</span> std::string where_, <span class="keyword">const</span> std::string mesg_)
<a name="l00187"></a>00187          <span class="keywordflow">throw</span>(): <a class="code" href="classmaxsum_1_1_unknown_address_exception.html#ead0c9dba40cc442548cf80c0159a6fb" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>(where_), <a class="code" href="classmaxsum_1_1_unknown_address_exception.html#6c5857161c2cc74a289f68169b9b2756" title="Message describing the cause of this exception.">mesg</a>(mesg_) {}
<a name="l00188"></a>00188 
<a name="l00195"></a><a class="code" href="classmaxsum_1_1_unknown_address_exception.html#6cc6989979cb60268687df4df42c3b2f">00195</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classmaxsum_1_1_unknown_address_exception.html#6cc6989979cb60268687df4df42c3b2f" title="Returns a message describing the cause of this exception, and the location it was...">what</a>() <span class="keyword">const</span> throw()
<a name="l00196"></a>00196       {
<a name="l00197"></a>00197          <span class="keywordflow">return</span> std::string(<span class="stringliteral">"UnknownAddressException: "</span> + <a class="code" href="classmaxsum_1_1_unknown_address_exception.html#6c5857161c2cc74a289f68169b9b2756" title="Message describing the cause of this exception.">mesg</a> +
<a name="l00198"></a>00198                <span class="stringliteral">"\t[ in "</span>+<a class="code" href="classmaxsum_1_1_unknown_address_exception.html#ead0c9dba40cc442548cf80c0159a6fb" title="String identifying the source code locatioin where this exceptioin was generated...">where</a> +<span class="stringliteral">" ]"</span>).c_str();
<a name="l00199"></a>00199       }
<a name="l00200"></a>00200 
<a name="l00204"></a><a class="code" href="classmaxsum_1_1_unknown_address_exception.html#0d1350492e16aeb48f7220ef8b3fbdc3">00204</a>       <span class="keyword">virtual</span> <a class="code" href="classmaxsum_1_1_unknown_address_exception.html#0d1350492e16aeb48f7220ef8b3fbdc3" title="Destroys this exception and free&amp;#39;s its allocated resources.">~UnknownAddressException</a>() throw() {}
<a name="l00205"></a>00205 
<a name="l00206"></a>00206    }; <span class="comment">// UnknownAddressException</span>
<a name="l00207"></a>00207 
<a name="l00211"></a><a class="code" href="classmaxsum_1_1_bad_domain_exception.html">00211</a>    <span class="keyword">class </span><a class="code" href="classmaxsum_1_1_bad_domain_exception.html" title="Exception thrown when subindices are incorrectly specified for a function.">BadDomainException</a> : <span class="keyword">public</span> std::exception
<a name="l00212"></a>00212    {
<a name="l00213"></a>00213    <span class="keyword">protected</span>:
<a name="l00214"></a>00214 
<a name="l00219"></a><a class="code" href="classmaxsum_1_1_bad_domain_exception.html#6fc7f9229caf8465420b02c9c26980f6">00219</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_bad_domain_exception.html#6fc7f9229caf8465420b02c9c26980f6" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>;
<a name="l00220"></a>00220 
<a name="l00224"></a><a class="code" href="classmaxsum_1_1_bad_domain_exception.html#06bf4cc26637af24a36bc0a0142d6c32">00224</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_bad_domain_exception.html#06bf4cc26637af24a36bc0a0142d6c32" title="Message describing the cause of this exception.">mesg</a>;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226    <span class="keyword">public</span>:
<a name="l00227"></a>00227 
<a name="l00234"></a>00234       <a class="code" href="classmaxsum_1_1_bad_domain_exception.html#e70859c2f7e559cc10d3805f95b3099e" title="Constructs a new exception with specified location and message.">BadDomainException</a>
<a name="l00235"></a><a class="code" href="classmaxsum_1_1_bad_domain_exception.html#e70859c2f7e559cc10d3805f95b3099e">00235</a>          (<span class="keyword">const</span> std::string where_, <span class="keyword">const</span> std::string mesg_)
<a name="l00236"></a>00236          <span class="keywordflow">throw</span>(): <a class="code" href="classmaxsum_1_1_bad_domain_exception.html#6fc7f9229caf8465420b02c9c26980f6" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>(where_), <a class="code" href="classmaxsum_1_1_bad_domain_exception.html#06bf4cc26637af24a36bc0a0142d6c32" title="Message describing the cause of this exception.">mesg</a>(mesg_) {}
<a name="l00237"></a>00237 
<a name="l00244"></a><a class="code" href="classmaxsum_1_1_bad_domain_exception.html#1bc9073a10e1f69b97a1fa11fc93d2cf">00244</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classmaxsum_1_1_bad_domain_exception.html#1bc9073a10e1f69b97a1fa11fc93d2cf" title="Returns a message describing the cause of this exception, and the location it was...">what</a>() <span class="keyword">const</span> throw()
<a name="l00245"></a>00245       {
<a name="l00246"></a>00246          <span class="keywordflow">return</span> std::string(<span class="stringliteral">"BadDomainException: "</span> + <a class="code" href="classmaxsum_1_1_bad_domain_exception.html#06bf4cc26637af24a36bc0a0142d6c32" title="Message describing the cause of this exception.">mesg</a> +
<a name="l00247"></a>00247                <span class="stringliteral">"\t[ in "</span>+<a class="code" href="classmaxsum_1_1_bad_domain_exception.html#6fc7f9229caf8465420b02c9c26980f6" title="String identifying the source code locatioin where this exceptioin was generated...">where</a> +<span class="stringliteral">" ]"</span>).c_str();
<a name="l00248"></a>00248       }
<a name="l00249"></a>00249 
<a name="l00253"></a><a class="code" href="classmaxsum_1_1_bad_domain_exception.html#1600a273a7fc0a727817d842bd1799e0">00253</a>       <span class="keyword">virtual</span> <a class="code" href="classmaxsum_1_1_bad_domain_exception.html#1600a273a7fc0a727817d842bd1799e0" title="Destroys this exception and free&amp;#39;s its allocated resources.">~BadDomainException</a>() throw() {}
<a name="l00254"></a>00254 
<a name="l00255"></a>00255    }; <span class="comment">// BadDomainException</span>
<a name="l00256"></a>00256 
<a name="l00260"></a><a class="code" href="classmaxsum_1_1_out_of_range_exception.html">00260</a>    <span class="keyword">class </span><a class="code" href="classmaxsum_1_1_out_of_range_exception.html" title="Exception thrown when indices are out of range.">OutOfRangeException</a> : <span class="keyword">public</span> std::exception
<a name="l00261"></a>00261    {
<a name="l00262"></a>00262    <span class="keyword">protected</span>:
<a name="l00263"></a>00263 
<a name="l00268"></a><a class="code" href="classmaxsum_1_1_out_of_range_exception.html#c3ea744cb5929a12ff3a75dba995ec49">00268</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_out_of_range_exception.html#c3ea744cb5929a12ff3a75dba995ec49" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>;
<a name="l00269"></a>00269 
<a name="l00273"></a><a class="code" href="classmaxsum_1_1_out_of_range_exception.html#26382764b9d2991532f158d3848de423">00273</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_out_of_range_exception.html#26382764b9d2991532f158d3848de423" title="Message describing the cause of this exception.">mesg</a>;
<a name="l00274"></a>00274 
<a name="l00275"></a>00275    <span class="keyword">public</span>:
<a name="l00276"></a>00276 
<a name="l00283"></a><a class="code" href="classmaxsum_1_1_out_of_range_exception.html#474a0d72a7ec1c220c6063fb60a04789">00283</a>       <a class="code" href="classmaxsum_1_1_out_of_range_exception.html#474a0d72a7ec1c220c6063fb60a04789" title="Constructs a new exception with specified location and message.">OutOfRangeException</a>(<span class="keyword">const</span> std::string where_, <span class="keyword">const</span> std::string mesg_)
<a name="l00284"></a>00284          <span class="keywordflow">throw</span>(): <a class="code" href="classmaxsum_1_1_out_of_range_exception.html#c3ea744cb5929a12ff3a75dba995ec49" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>(where_), <a class="code" href="classmaxsum_1_1_out_of_range_exception.html#26382764b9d2991532f158d3848de423" title="Message describing the cause of this exception.">mesg</a>(mesg_) {}
<a name="l00285"></a>00285 
<a name="l00292"></a><a class="code" href="classmaxsum_1_1_out_of_range_exception.html#ec3c225a8d0e1c070357d7dde0fce9de">00292</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classmaxsum_1_1_out_of_range_exception.html#ec3c225a8d0e1c070357d7dde0fce9de" title="Returns a message describing the cause of this exception, and the location it was...">what</a>() <span class="keyword">const</span> throw()
<a name="l00293"></a>00293       {
<a name="l00294"></a>00294          <span class="keywordflow">return</span> std::string(<span class="stringliteral">"Out of range exception: "</span> + <a class="code" href="classmaxsum_1_1_out_of_range_exception.html#26382764b9d2991532f158d3848de423" title="Message describing the cause of this exception.">mesg</a> +
<a name="l00295"></a>00295                <span class="stringliteral">"\t[ in "</span>+<a class="code" href="classmaxsum_1_1_out_of_range_exception.html#c3ea744cb5929a12ff3a75dba995ec49" title="String identifying the source code locatioin where this exceptioin was generated...">where</a> +<span class="stringliteral">" ]"</span>).c_str();
<a name="l00296"></a>00296       }
<a name="l00297"></a>00297 
<a name="l00301"></a><a class="code" href="classmaxsum_1_1_out_of_range_exception.html#4312b42b03d34488bee4ad2803874ceb">00301</a>       <span class="keyword">virtual</span> <a class="code" href="classmaxsum_1_1_out_of_range_exception.html#4312b42b03d34488bee4ad2803874ceb" title="Destroys this exception and free&amp;#39;s its allocated resources.">~OutOfRangeException</a>() throw() {}
<a name="l00302"></a>00302 
<a name="l00303"></a>00303    }; <span class="comment">// out of range exception</span>
<a name="l00304"></a>00304 
<a name="l00308"></a><a class="code" href="classmaxsum_1_1_domain_conflict_exception.html">00308</a>    <span class="keyword">class </span><a class="code" href="classmaxsum_1_1_domain_conflict_exception.html" title="Exception thrown conflicting domains are specified for a variable.">DomainConflictException</a> : <span class="keyword">public</span> std::exception
<a name="l00309"></a>00309    {
<a name="l00310"></a>00310    <span class="keyword">protected</span>:
<a name="l00311"></a>00311 
<a name="l00316"></a><a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#747d44e9a4103827538e70e62cb009d6">00316</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#747d44e9a4103827538e70e62cb009d6" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>;
<a name="l00317"></a>00317 
<a name="l00321"></a><a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#2c421d8d2c4ebec960d9c1f6d539fc6d">00321</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#2c421d8d2c4ebec960d9c1f6d539fc6d" title="Message describing the cause of this exception.">mesg</a>;
<a name="l00322"></a>00322 
<a name="l00323"></a>00323    <span class="keyword">public</span>:
<a name="l00324"></a>00324 
<a name="l00331"></a><a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#5cd72abb7019b3de75812f876a52ff1a">00331</a>       <a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#5cd72abb7019b3de75812f876a52ff1a" title="Creates a new expection of this type.">DomainConflictException</a>(<span class="keyword">const</span> std::string where_, <span class="keyword">const</span> std::string mesg_)
<a name="l00332"></a>00332          <span class="keywordflow">throw</span>(): <a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#747d44e9a4103827538e70e62cb009d6" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>(where_), <a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#2c421d8d2c4ebec960d9c1f6d539fc6d" title="Message describing the cause of this exception.">mesg</a>(mesg_) {}
<a name="l00333"></a>00333 
<a name="l00340"></a><a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#d0daeb2e34935eea89b575e63aff6cdf">00340</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#d0daeb2e34935eea89b575e63aff6cdf" title="Returns a message describing the cause of this exception, and the location it was...">what</a>() <span class="keyword">const</span> throw()
<a name="l00341"></a>00341       {
<a name="l00342"></a>00342          <span class="keywordflow">return</span> std::string(<span class="stringliteral">"Domain conflict exception: "</span> + <a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#2c421d8d2c4ebec960d9c1f6d539fc6d" title="Message describing the cause of this exception.">mesg</a> +
<a name="l00343"></a>00343                <span class="stringliteral">"\t[ in "</span>+<a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#747d44e9a4103827538e70e62cb009d6" title="String identifying the source code locatioin where this exceptioin was generated...">where</a> +<span class="stringliteral">" ]"</span>).c_str();
<a name="l00344"></a>00344       }
<a name="l00345"></a>00345 
<a name="l00349"></a><a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#04d0ba36a07dd00575aa495f16ef7b3f">00349</a>       <span class="keyword">virtual</span> <a class="code" href="classmaxsum_1_1_domain_conflict_exception.html#04d0ba36a07dd00575aa495f16ef7b3f" title="Destroys this exception and free&amp;#39;s its allocated resources.">~DomainConflictException</a>() throw() {}
<a name="l00350"></a>00350 
<a name="l00351"></a>00351    }; <span class="comment">// Domain conflict exception</span>
<a name="l00352"></a>00352 
<a name="l00356"></a><a class="code" href="classmaxsum_1_1_unknown_variable_exception.html">00356</a>    <span class="keyword">class </span><a class="code" href="classmaxsum_1_1_unknown_variable_exception.html" title="Exception thrown when a variable is not registered.">UnknownVariableException</a> : <span class="keyword">public</span> std::exception
<a name="l00357"></a>00357    {
<a name="l00358"></a>00358    <span class="keyword">protected</span>:
<a name="l00359"></a>00359 
<a name="l00364"></a><a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#87a2a9f8bd203eff04f9a58c9057a9d7">00364</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#87a2a9f8bd203eff04f9a58c9057a9d7" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>;
<a name="l00365"></a>00365 
<a name="l00369"></a><a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#7f062f54f2639d81b7b22dfb58288d14">00369</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#7f062f54f2639d81b7b22dfb58288d14" title="Message describing the cause of this exception.">mesg</a>;
<a name="l00370"></a>00370 
<a name="l00371"></a>00371    <span class="keyword">public</span>:
<a name="l00372"></a>00372 
<a name="l00379"></a><a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#d8aeff4b071e578a99b832fd8fb401be">00379</a>       <a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#d8aeff4b071e578a99b832fd8fb401be" title="Creates a new expection of this type.">UnknownVariableException</a>(<span class="keyword">const</span> std::string where_, <span class="keyword">const</span> std::string mesg_)
<a name="l00380"></a>00380          <span class="keywordflow">throw</span>(): <a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#87a2a9f8bd203eff04f9a58c9057a9d7" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>(where_), <a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#7f062f54f2639d81b7b22dfb58288d14" title="Message describing the cause of this exception.">mesg</a>(mesg_) {}
<a name="l00381"></a>00381 
<a name="l00388"></a><a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#0d8a5ab01cb49df4406c2665636ec474">00388</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#0d8a5ab01cb49df4406c2665636ec474" title="Returns a message describing the cause of this exception, and the location it was...">what</a>() <span class="keyword">const</span> throw()
<a name="l00389"></a>00389       {
<a name="l00390"></a>00390          <span class="keywordflow">return</span> std::string(<span class="stringliteral">"Unknown variable exception: "</span> + <a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#7f062f54f2639d81b7b22dfb58288d14" title="Message describing the cause of this exception.">mesg</a> +
<a name="l00391"></a>00391                <span class="stringliteral">"\t[ in "</span>+<a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#87a2a9f8bd203eff04f9a58c9057a9d7" title="String identifying the source code locatioin where this exceptioin was generated...">where</a> +<span class="stringliteral">" ]"</span>).c_str();
<a name="l00392"></a>00392       }
<a name="l00393"></a>00393 
<a name="l00397"></a><a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#c58b9c121bc925587f256e5e19777c98">00397</a>       <span class="keyword">virtual</span> <a class="code" href="classmaxsum_1_1_unknown_variable_exception.html#c58b9c121bc925587f256e5e19777c98" title="Destroys this exception and free&amp;#39;s its allocated resources.">~UnknownVariableException</a>() throw() {}
<a name="l00398"></a>00398 
<a name="l00399"></a>00399    }; <span class="comment">// UnknownVariableException</span>
<a name="l00400"></a>00400 
<a name="l00404"></a><a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html">00404</a>    <span class="keyword">class </span><a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html" title="Exception thrown when variable domains are inconsistent.">InconsistentDomainException</a> : <span class="keyword">public</span> std::exception
<a name="l00405"></a>00405    {
<a name="l00406"></a>00406    <span class="keyword">protected</span>:
<a name="l00407"></a>00407 
<a name="l00412"></a><a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#21f51beb2380e26d93e12b54d32476ed">00412</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#21f51beb2380e26d93e12b54d32476ed" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>;
<a name="l00413"></a>00413 
<a name="l00417"></a><a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#5f06b307be8af57b14a8a9ccc20de4d4">00417</a>       <span class="keyword">const</span> std::string <a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#5f06b307be8af57b14a8a9ccc20de4d4" title="Message describing the cause of this exception.">mesg</a>;
<a name="l00418"></a>00418 
<a name="l00419"></a>00419    <span class="keyword">public</span>:
<a name="l00420"></a>00420 
<a name="l00427"></a>00427       <a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#3096c2f07ce2a08d9c2e7c842674be8a" title="Creates a new expection of this type.">InconsistentDomainException</a>
<a name="l00428"></a><a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#3096c2f07ce2a08d9c2e7c842674be8a">00428</a>       (
<a name="l00429"></a>00429        <span class="keyword">const</span> std::string where_,
<a name="l00430"></a>00430        <span class="keyword">const</span> std::string mesg_
<a name="l00431"></a>00431       )
<a name="l00432"></a>00432       <span class="keywordflow">throw</span>(): <a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#21f51beb2380e26d93e12b54d32476ed" title="String identifying the source code locatioin where this exceptioin was generated...">where</a>(where_), <a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#5f06b307be8af57b14a8a9ccc20de4d4" title="Message describing the cause of this exception.">mesg</a>(mesg_) {}
<a name="l00433"></a>00433 
<a name="l00440"></a><a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#80017e86022b716ee9b04a31652fc4f3">00440</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#80017e86022b716ee9b04a31652fc4f3" title="Returns a message describing the cause of this exception, and the location it was...">what</a>() <span class="keyword">const</span> throw()
<a name="l00441"></a>00441       {
<a name="l00442"></a>00442          <span class="keywordflow">return</span> std::string(<span class="stringliteral">"Domain conflict exception: "</span> + <a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#5f06b307be8af57b14a8a9ccc20de4d4" title="Message describing the cause of this exception.">mesg</a> +
<a name="l00443"></a>00443                <span class="stringliteral">"\t[ in "</span>+<a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#21f51beb2380e26d93e12b54d32476ed" title="String identifying the source code locatioin where this exceptioin was generated...">where</a> +<span class="stringliteral">" ]"</span>).c_str();
<a name="l00444"></a>00444       }
<a name="l00445"></a>00445 
<a name="l00449"></a><a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#353940ca058880014a41b69f860143c7">00449</a>       <span class="keyword">virtual</span> <a class="code" href="classmaxsum_1_1_inconsistent_domain_exception.html#353940ca058880014a41b69f860143c7" title="Destroys this exception and free&amp;#39;s its allocated resources.">~InconsistentDomainException</a>() throw() {}
<a name="l00450"></a>00450 
<a name="l00451"></a>00451    }; <span class="comment">// InconsistentDomainException</span>
<a name="l00452"></a>00452 
<a name="l00462"></a>00462    <span class="keyword">template</span>&lt;<span class="keyword">class</span> VecType&gt; <span class="keywordtype">void</span> <a class="code" href="namespacemaxsum.html#e5522a3acac209d3d528f95dacf54fdd" title="C++ Implementation of Matlab ind2sub function.">ind2sub</a>
<a name="l00463"></a><a class="code" href="namespacemaxsum.html#e5522a3acac209d3d528f95dacf54fdd">00463</a>    (
<a name="l00464"></a>00464     <span class="keyword">const</span> VecType&amp; siz,
<a name="l00465"></a>00465     <span class="keyword">const</span> <span class="keyword">typename</span> VecType::value_type ind,
<a name="l00466"></a>00466     VecType&amp; sub
<a name="l00467"></a>00467    )
<a name="l00468"></a>00468    {
<a name="l00469"></a>00469       <span class="comment">//************************************************************************</span>
<a name="l00470"></a>00470       <span class="comment">// Ensure subindex vector has correct size</span>
<a name="l00471"></a>00471       <span class="comment">//************************************************************************</span>
<a name="l00472"></a>00472       <span class="keyword">const</span> <span class="keywordtype">int</span> ndims = siz.size();
<a name="l00473"></a>00473       sub.resize(ndims);
<a name="l00474"></a>00474 
<a name="l00475"></a>00475       <span class="comment">//************************************************************************</span>
<a name="l00476"></a>00476       <span class="comment">// At this stage, if the number of dimensions is zero, then we have</span>
<a name="l00477"></a>00477       <span class="comment">// and empty set of subindices. This is correct, we we're done.</span>
<a name="l00478"></a>00478       <span class="comment">//************************************************************************</span>
<a name="l00479"></a>00479       <span class="keywordflow">if</span>(0==ndims)
<a name="l00480"></a>00480       {
<a name="l00481"></a>00481          <span class="keywordflow">return</span>;
<a name="l00482"></a>00482       }
<a name="l00483"></a>00483 
<a name="l00484"></a>00484       <span class="comment">//************************************************************************</span>
<a name="l00485"></a>00485       <span class="comment">// Calculate the cumulative product of the size vector</span>
<a name="l00486"></a>00486       <span class="comment">//************************************************************************</span>
<a name="l00487"></a>00487       <span class="keyword">typedef</span> <span class="keyword">typename</span> VecType::value_type IntType;
<a name="l00488"></a>00488       std::vector&lt;IntType&gt; cumProd(ndims);
<a name="l00489"></a>00489       IntType nextProd = 1;
<a name="l00490"></a>00490       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> k=0; k&lt;ndims; k++)
<a name="l00491"></a>00491       {
<a name="l00492"></a>00492          cumProd[k] = nextProd;
<a name="l00493"></a>00493          nextProd *= siz[k];
<a name="l00494"></a>00494       }
<a name="l00495"></a>00495 
<a name="l00496"></a>00496       <span class="comment">//************************************************************************</span>
<a name="l00497"></a>00497       <span class="comment">// Validate range of linear index</span>
<a name="l00498"></a>00498       <span class="comment">//************************************************************************</span>
<a name="l00499"></a>00499       <span class="keywordtype">int</span> maxInd = cumProd[ndims-1] * siz[ndims-1] - 1;
<a name="l00500"></a>00500       <span class="keywordflow">if</span>( (ind&lt;0) || (ind &gt; maxInd) )
<a name="l00501"></a>00501       {
<a name="l00502"></a>00502          <span class="keywordflow">throw</span> <a class="code" href="classmaxsum_1_1_out_of_range_exception.html" title="Exception thrown when indices are out of range.">OutOfRangeException</a>(<span class="stringliteral">"bad linear index"</span>,<span class="stringliteral">"maxsum::ind2sub"</span>);
<a name="l00503"></a>00503       }
<a name="l00504"></a>00504 
<a name="l00505"></a>00505       <span class="comment">//************************************************************************</span>
<a name="l00506"></a>00506       <span class="comment">// Calculate the subindices. This is done by repeatedly dividing by</span>
<a name="l00507"></a>00507       <span class="comment">// the cumulative dimension sizes, and recording the remainder.</span>
<a name="l00508"></a>00508       <span class="comment">// Have to start at the largest dimension and work backwards.</span>
<a name="l00509"></a>00509       <span class="comment">//************************************************************************</span>
<a name="l00510"></a>00510       IntType remainder = ind;
<a name="l00511"></a>00511       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> k=ndims-1; k&gt;=0; k--)
<a name="l00512"></a>00512       {
<a name="l00513"></a>00513          sub[k] = remainder / cumProd[k];
<a name="l00514"></a>00514          remainder = remainder % cumProd[k];
<a name="l00515"></a>00515       }
<a name="l00516"></a>00516       
<a name="l00517"></a>00517    } <span class="comment">// ind2sub</span>
<a name="l00518"></a>00518 
<a name="l00528"></a>00528    <span class="keyword">template</span>&lt;<span class="keyword">class</span> SizIt, <span class="keyword">class</span> SubIt&gt; <a class="code" href="namespacemaxsum.html#2703843fa0f76002b3285d94f1693d26" title="Integer type used for indexing coefficient values.">ValIndex</a>
<a name="l00529"></a><a class="code" href="namespacemaxsum.html#ffa32c842f83bd6e88a55a2adb92869b">00529</a>       <a class="code" href="namespacemaxsum.html#ffa32c842f83bd6e88a55a2adb92869b" title="C++ Implementation of Matlab sub2ind function.">sub2ind</a>(SizIt sizFirst, SizIt sizEnd, SubIt subFirst, SubIt subEnd)
<a name="l00530"></a>00530    {
<a name="l00531"></a>00531       <a class="code" href="namespacemaxsum.html#2703843fa0f76002b3285d94f1693d26" title="Integer type used for indexing coefficient values.">ValIndex</a> skipSize = 1;
<a name="l00532"></a>00532       <a class="code" href="namespacemaxsum.html#2703843fa0f76002b3285d94f1693d26" title="Integer type used for indexing coefficient values.">ValIndex</a> result = 0;
<a name="l00533"></a>00533 
<a name="l00534"></a>00534       SizIt siz = sizFirst;
<a name="l00535"></a>00535       SubIt sub = subFirst;
<a name="l00536"></a>00536 
<a name="l00537"></a>00537       <span class="keywordflow">while</span>( (siz!=sizEnd) &amp;&amp; (sub!=subEnd) )
<a name="l00538"></a>00538       {
<a name="l00539"></a>00539          <span class="keywordflow">if</span>( (0&gt;*sub) || (*siz&lt;=*sub) )
<a name="l00540"></a>00540          {
<a name="l00541"></a>00541             <span class="keywordflow">throw</span> <a class="code" href="classmaxsum_1_1_out_of_range_exception.html" title="Exception thrown when indices are out of range.">OutOfRangeException</a>(<span class="stringliteral">"bad subindex"</span>,<span class="stringliteral">"maxsum::sub2ind"</span>);
<a name="l00542"></a>00542          }
<a name="l00543"></a>00543          result += (*sub) * skipSize;
<a name="l00544"></a>00544          skipSize *= *siz;
<a name="l00545"></a>00545 
<a name="l00546"></a>00546          ++siz;
<a name="l00547"></a>00547          ++sub;
<a name="l00548"></a>00548       }
<a name="l00549"></a>00549 
<a name="l00550"></a>00550       <span class="keywordflow">return</span> result;
<a name="l00551"></a>00551 
<a name="l00552"></a>00552    } <span class="comment">// sub2ind</span>
<a name="l00553"></a>00553 
<a name="l00561"></a>00561    <span class="keyword">template</span>&lt;<span class="keyword">class</span> VecType&gt; <span class="keyword">typename</span> VecType::value_type
<a name="l00562"></a><a class="code" href="namespacemaxsum.html#77d4e8cfbf7177fec4eb2c23d80dedab">00562</a>       <a class="code" href="namespacemaxsum.html#ffa32c842f83bd6e88a55a2adb92869b" title="C++ Implementation of Matlab sub2ind function.">sub2ind</a>(<span class="keyword">const</span> VecType&amp; siz, <span class="keyword">const</span> VecType&amp; sub)
<a name="l00563"></a>00563    {
<a name="l00564"></a>00564       <span class="keywordflow">return</span> <a class="code" href="namespacemaxsum.html#ffa32c842f83bd6e88a55a2adb92869b" title="C++ Implementation of Matlab sub2ind function.">sub2ind</a>(siz.begin(),siz.end(),sub.begin(),sub.end());
<a name="l00565"></a>00565    }
<a name="l00566"></a>00566 
<a name="l00567"></a>00567 } <span class="comment">// namespace maxsum</span>
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 <span class="preprocessor">#endif // MAX_SUM_COMMON_H</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 30 16:40:54 2012 for Max-Sum by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
